<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" name="description" content="Fantasymaker : ">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- <script src="js/lib/dialog-polyfill.js"></script>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/dialog-polyfill.css">
        -->
		
		<link rel="stylesheet" type="text/css" href="stylesheets/css/ui.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/cytoscape.js-panzoom.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/interact.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/materialize.min.css"/>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

		<title>Fantasymaker</title>
	</head>

	<body>

    <!-- Page Edits Overlay (Materialize) -->
    <div id="page-modal" class="modal">
        <div class="modal-content" >
			<div id="pagecontainers" class = "drag-container" style="height:100%;">
			</div>
            <div class = "toolbar" id="edit-page-toolbar">
                <p id="pagename"></p>
                <button class = "btn" onCLick=addTextContainer()>Add A TextBox</button><br/>
                <button class = "btn" onclick=addImageContainer()>Add Image</button> <br/>
                <button class = "gridmode btn" onclick=toggleGridMode()>Toggle Grid</button> <br/>
            </div>
        </div>
    </div>

    <!-- Control Edit Overlay (Materialize) -->
    <div id="control-modal" class="modal modal-fixed-footer" >
        <div class="modal-content">
			<h4>Control Node</h4> <br/>
			<!--
            <div id = "controlcontainers">
                <textarea class = "textarea" id="controltext"></textarea>
            </div>
            <div class = "toolbar" id="controltoolbar">
                <p id="controlname"></p>
            </div>
			-->
			<ul id="connectedEdgesList" style="padding-top: 10px;" ondragover=handleDragEnter(event) class="collapsible popout" data-collapsible="accordion"></ul>
			
        </div>
		<div class="modal-footer">

		</div>
		
    </div>

    <!-- Connection Edit Overlay (Materialize) -->
    <div id="connection-modal" class="modal modal-fixed-footer">
        <div class="modal-content">
			<h4>Conditions & Outcomes</h4> <br/>
            <ul class="collapsible popout" data-collapsible="expandable">
                <li>
                    <div class="collapsible-header active">Conditions</div>
                    <div class="collapsible-body"> <ul id = "conditionsList" class="list-unstyled" ></ul></div>
                </li>
                <li>
                    <div class="collapsible-header active">Outcomes</div>
                    <div class="collapsible-body"><ul id = "outcomesList" class="list-unstyled" ></ul></div>
                </li>
            </ul>
        </div>
        <div class = "toolbar" id="connectiontoolbar">
            <p id="connectionname"></p>

        </div>
        <div class="modal-footer">
		<!--
            <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
		-->
            
            <button type="button" class="btn btn-default" onClick=edgeOverlay_addNewOutcome('outcomesList') style="width: 30%; margin-right: 1%;">Add Outcome</button>
			<button type="button" class="btn btn-default" onClick=edgeOverlay_addNewCondition('conditionsList') style="width: 30%; margin-right: 1%;">Add Condition</button>
		

        </div>
    </div>

	<!-- Attributes Modal -->
	<div id="attributes-modal" class=" modal modal-fixed-footer">
		<div class="modal-content">
				<h4>Attributes</h4> <br/>
				<ul class="collapsible" id="attributes-list" data-collapsible="accordion">

				</ul>
		</div>
		<div class="modal-footer">
			<a class="btn-floating btn-small waves-effect waves-light red floating-action-button" onclick="attributesOverlay_addAttribute('attributes-list')"><i class="material-icons">add</i></a>
		</div>
	</div>


	<!-- Modal Structure -->
	<div id="mda" class="modal modal-fixed-footer">
		<div class="modal-content">
			<h4>Modal Header</h4>
			<p>A bunch of text</p>
		</div>
		<div class="modal-footer">
			<a href="javascript:;" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
		</div>
	</div>


	<!-- Main Content -->
	<div class="container-fluid">
		<div class="row">
			<div class = "col s12 l12">
				<ul class="tabs" id="tabheadings">
					<li class="tab col s4"><a class="active" href="#cyTab">Graph</a></li>
					<li class="tab col s4"><a href="#Character">Character</a></li>
					<li class="tab col s4"><a href="#Play" onclick=prepareForGame()>Play</a></li>
				</ul>
				<div class="tab-content">
					<div id="cyTab" class="tab-pane fade in active">
						<div class="col s9 l9" id="cy"> <!-- Grid "workspace" container -->
							</div>
						<div class="col s3 l3" id="sidebar"> <!-- Sidebar -->
							<h5>FantasyMaker</h5>
							<hr/>
							<button class="pagemode btn" onclick=changeState(this)>Page Node</button> <br/>
							<button class="controlmode btn" onclick=changeState(this)>Control Node</button><br/>
							<button class="connectionmode btn" onclick=changeState(this)>Edge</button><br/>
							<hr/>
							<a class="waves-effect waves-light btn modal-trigger" href="#attributes-modal">Attributes</a>
							<br/>
							<hr/>
							<button class="connectivity btn" onclick=checkValidGraph()>Test Graph</button> <br/>
							<select onchange="layout_driver(this); this.selectedIndex = 0;" onfocus="this.selectedIndex = 0;">
 								<option value="none">Style Graph</option>
 								<option value="Tree">Tree</option>
 								<option value="Grid">Grid</option>
 								<option value="Circle">Circle</option>
 								<option value="Spread">Spread</option>
 							</select>

							<button class="savebutton btn" onclick=http_save()>Save</button><br/>
							<button class="loadbutton btn" onclick=http_load()>Load</button><br/>
							<hr/>
							<button class="deletebutton btn selectionbutton" style = "display:none;" onclick=changeState(this)>Delete</button><br/>
                            <a class="waves-effect waves-light btn modal-trigger editbutton" style = "display:none;" href="#page-modal">Edit Page</a>
                            <a class="waves-effect waves-light btn modal-trigger editbutton" style = "display:none;" href="#connection-modal">Edit Edge</a>
                            <a class="waves-effect waves-light btn modal-trigger editbutton" style = "display:none;" href="#control-modal">Edit Control</a>
                            <br/>
							<br/>


						</div>
					</div>
					<div id="Play" class="tab-pane fade">
						<div class="col s9" id="playwindow">
							<div class = "playpage">							
							</div>
							<button class="progressbutton button" style='float:right;' onclick=progressStory(0)>Continue</button>
						</div>
					</div>
					<div id="Character" class="tab-pane fade">
						<div class="container">
							<div class="row">
						</div>
						</div>
				</div>

			</div>
		</div>
	</div>
	</div>

	</body>
	<script src="js/lib/jquery-2.2.2.min.js"></script>
	<script defer src="js/lib/cytoscape.min.js"></script>
	<script defer src="js/lib/cytoscape-panzoom.js"></script>
	<script defer src="js/lib/materialize.min.js"></script>
	<script defer src="js/lib/interact.js"></script>	
	<script defer src="js/dev.min.js"></script>

</html>