<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" name="description" content="Fantasymaker : ">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- <script src="js/lib/dialog-polyfill.js"></script>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/dialog-polyfill.css">
		-->
		<link rel="stylesheet" type="text/css" href="stylesheets/css/loader.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/spectrum.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/jquery.contextMenu.min.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/contextMenu.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/page-overlay.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/cytoscape.js-panzoom.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/interact.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/materialize.min.css"/>
		<link rel="stylesheet" type="text/css" href="stylesheets/css/ui.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="stylesheets/css/attributes.css" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />


		<title>Fantasymaker</title>
	</head>

	<body>
	<nav>
		<div class="nav-wrapper">
			<a href="#" class="brand-logo">&nbsp; &nbsp; FantasyMaker</a>
			<ul id="nav-mobile" class="right hide-on-med-and-down">
				<li><a href="#" onclick=showProjectSettings()>Project</a></li>
				<li><a href="#">Profile</a></li>
				<li><a href="#">Settings</a></li>
			</ul>
		</div>
	</nav>
	<!-- Page Edits Overlay (Materialize) -->
	<div id="page-modal" class="modal">
			<div class="modal-content" style="padding-top: 40px" >
				<div id = "screenwrapper">
					<div id="pagecontainers" class = "drag-container" style="width: 800px; height: 700px;">
					</div>
				</div>
				<div class = "toolbar" id="edit-page-toolbar">
					<i class = "fa fa-times fa-2x modal-close" style="float:right;" ></i>

					<h5 id="pagename">Design Page: </h5>
					<hr/>
					<button class = "btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "A container to hold any text, dialogue, etc..." onclick=addTextContainer()>Add TextBox</button><br>
					<button class = "btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Images " onclick=addImageContainer()>Add Image</button> <br/>
					<button class = "btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Movies (gif,gifv,mov,webm,mp4)" onclick=addVideoContainer()>Add Video</button> <br/>
					<button class = "btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Will display the output of associated control nodes as they are processed" oncLick=addOutputContainer()>Add Control Output</button><br/>
					<hr/>
					<button id = "ColourPicker1" class = "btn">Primary Colour</button> <br/>
					<button id = "ColourPicker2" class = "btn">Secondary Colour</button> <br/>
					<hr/>
					<button class = "gridmode btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Enable/disable a grid for your containers to snap to" onclick=toggleGridMode()>Toggle Grid</button> <br/>
					<button class = "handlemode btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Lets you preview how your page will look without the above handles" onclick=toggleHandles()>Toggle Handles</button> <br/>

					<button class = "pagetemplate btn tooltipped" data-position="left" data-delay="1000" data-tooltip = "Copy and save all the containers and styles within the page node, letting you make copies" onclick=createPageTemplate()>Save Page Template</button> <br/>
					<hr/>
					<div style="margin-top: 10px;">
						<i id = "addevent" class = "fa fa-plus fa-2x dropdown-button"style="float: right;"></i>
						<i id = "removeevent" class = "fa fa-minus fa-2x"style="float: right; margin-right: 5px;" onclick=deleteEvent()></i>
						<h6>Events</h6>
					</div>
					<!-- Events pane -->
					<div id = "eventspane">
					</div>

				</div>
			</div>
	</div>

	<!-- Control Edit Overlay (Materialize) -->
	<div id="control-modal" class="modal modal-fixed-footer" >
		<div class="modal-content">
			<i class = "fa fa-times fa-2x modal-close" style="float:right;" ></i>
			<h4>Control Node</h4> <br/>
			<ul id="connectedEdgesList" style="padding-top: 10px;" ondragover=handleDragEnter(event) class="collapsible popout" data-collapsible="accordion"></ul>
		</div>
		<div class="modal-footer">
		</div>
	</div>

	<!-- Connection Edit Overlay (Materialize) -->
	<div id="connection-modal" class="modal modal-fixed-footer">
		<div class="modal-content">
			<i class = "fa fa-times fa-2x modal-close" style="float:right;" ></i>
			<h4>Conditions & Outcomes</h4> <br/>
			<ul class="collapsible popout" data-collapsible="expandable">
				<li>
					<div class="collapsible-header active">Conditions</div>
					<div class="collapsible-body"> <ul id = "conditionsList" class="list-unstyled" ></ul></div>
				</li>
				<li>
					<div class="collapsible-header active">Outcomes</div>
					<div class="collapsible-body"><ul id = "outcomesList" class="list-unstyled" ></ul></div>
				</li>
			</ul>
		</div>
		<div class = "toolbar" id="connectiontoolbar">
			<p id="connectionname"></p>

		</div>
		<div class="modal-footer">

			<button type="button" class="btn btn-default" onClick=edgeOverlay_addNewOutcome('outcomesList') style="width: 30%; margin-right: 1%;">Add Outcome</button>
			<button type="button" class="btn btn-default" onClick=edgeOverlay_addNewCondition('conditionsList') style="width: 30%; margin-right: 1%;">Add Condition</button>

		</div>
	</div>

	<div id="audio-modal" class=" modal">
		<div class="modal-content">
			<ul id="audiolist" style="padding-top: 10px;" class="collapsible popout" data-collapsible="accordion">

			</ul>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-default" onClick=project_project.audio.addAssetButton(); style="width: 30%; margin-right: 1%;">Add</button>
			<button type="button" class="btn btn-default" onClick=project_project.audio.removeAsset(); style="width: 30%; margin-right: 1%;">Remove</button>
		</div>
	</div>

	<!-- Attributes Modal -->
	<div id="attributes-modal" class=" modal">
		<div class="modal-content">
			<div class="row max-height">
				<!-- List Pane -->
				<div class="col m2 pos-relative attributes-list">
					<h4>Attributes</h4> <br/>
					<ul id="attributes-list" class="collapsibleList"></ul>
					<a id="new-top-level-button" class="btn-floating btn-medium waves-effect waves-light red fab" onclick="gameAttributes_openAddFolderModal(this);" data-path="TOP_LEVEL"><i class="medium material-icons">library_add</i></a>
					<div class="col m12 s12 float-bottom" id="new-top-level-container">
						<div class="input-field col m12">
							<input id="add-top-level-name" type="text" class="validate">
							<label for="add-top-level-name">Folder Name</label>
						</div>
						<a class="waves-effect waves-teal btn-flat col m12 s12" >Add Folder</a>
				</div>
				</div>

				<div class="col m10 max-height">
					<!-- Attribute/Folder Title -->
					<div class="row">
						<div class="col m12">
							<h4 class="current-attribute-name"></h4>
						</div>
					</div>
					<div class="row max-height">
						<!-- Folders Pane -->
						<div class="pane col m4 pos-relative">
							<div class="card white darken-2 max-height">
								<div class="card-content">
									<span class="card-title">Folders</span>
									<div id="folders-list" class="collection">

									</div>
								</div>
								<div class="card-action">
									<div class="col m12 float-bottom" id="add_folder_input_container" style="display: none">
										<div class="input-field col m8">
											<input id="new_folder_name_input" type="text" class="new-folder-input validate" data-path="">
											<label for="new_folder_name_input">Folder Name</label>
										</div>
										<div class="col m2 float-bottom float-right offset-m9">
											<a class="btn-floating btn-small waves-effect waves-light green" id="add-folder-confirm"><i class="small material-icons">done</i></a>
										</div>
									</div>
									<a id="add_sub_folder_button" class="btn-floating btn-medium waves-effect waves-light red fab" onclick="gameAttributes_openAddFolderModal(this)" style="display: none" data-path=""><i class="medium material-icons">add</i></a>
								</div>
							</div>
							</div>

						<!-- Attributes Pane -->
							<div class="pane col m8 pos-relative">
							<div class="card darken-2 max-height">
								<div class="card-content">
									<span class="card-title">Values</span>
									<ul id="values-list" class="collapsible" data-collapsible="accordion">

									</ul>
								</div>
								<div class="card-action">
									<a id="add_attribute_values_button" class="btn-floating btn-medium waves-effect waves-light red fab" onclick="gameAttributes_openAddAttributeModal(this)" style="display:none;" data-path=""><i class="medium material-icons">add</i></a>
									<div class="row float-bottom" id="add_attribute_input_container" style="display: none">
										<div class="input-field col m3">
											<input id="new_attribute_name_input" type="text" class="new-attribute-input validate" data-path="">
											<label for="new_attribute_name_input">Attribute Name</label>
										</div>
										<div class="input-field col m2">
											<input id="new_attribute_value_input" type="number" class="new-attribute-input validate" data-path="">
											<label for="new_attribute_value_input">Value</label>
										</div>
										<div class="input-field col m2">
											<input id="new_attribute_min_input" type="number" class="new-attribute-input validate" data-path="">
											<label for="new_attribute_min_input">Min Value</label>
										</div>
										<div class="input-field col m2">
											<input id="new_attribute_max_input" type="number" class="new-attribute-input validate" data-path="">
											<label for="new_attribute_max_input">Max Value</label>
										</div>
										<div class="col m2 float-bottom float-right offset-m10">
											<a class="btn-floating btn-small waves-effect waves-light green" id="add-attribute-confirm"><i class="small material-icons">done</i></a>
										</div>
									</div>
								</div>
							</div>
								</div>
					</div>

					</div>
				</div>
			</div>
		</div>

	<!-- ui for project settings(nav bar) -->
	<div id="projectMain" class="hide">
		<div class="row">
			<div class="col s1"><p></p></div>
			<div class="col s10">
				<h2 id="projectMain_title"style="color: #ee6e73;"></h2>
			</div>
			<div class="col s1">
				<button class = "btn-floating btn-large waves-effect waves-light red" style="transform: translateY(+50%);" onclick="projectSettings_openOverlay()">
					<i class="material-icons">add</i>
				</button>
			</div>
		</div>
		<div class="row">
			<ul id="projectsList"></ul>
		</div>
	</div>

	<!-- ui for project settings(nav bar) -->
	<div id="loginHtml" class="">
		<div class="row">
			<div class="col s1"><p></p></div>
			<div class="col s10">
				<h2 id="login_title"style="color: #ee6e73;" class="center-align">Login</h2>
			</div>
		</div>
		<div class="row">
			<div class=" input-field col s1"><p></p></div>
			<div class=" input-field col s2">
				<h4 id="login_label"style="color: #ee6e73;">Username: </h4>
			</div>
			<div class="input-field col s3">
				<input placeholder="Enter Username" id="login_username" type="email" class="input-field">
			</div>
		</div>
		<div class="row">
			<div class=" input-field col s1"><p></p></div>
			<div class=" input-field col s2">
				<h4 id="pwd_label"style="color: #ee6e73;">Password: </h4>
			</div>
			<div class="input-field col s3">
				<input placeholder="Enter Password" id="login_pwd" type="password" class="input-field">
			</div>
		</div>
		<div class="row">
			<div class="col s5"><p></p></div>
			<div class="col s2">
				<a class="btn" id="login_button" onclick="projectSettings_login()">Submit</a>
			</div>
			<div class="col s5"><p></p></div>
		</div>
	</div>

	<!-- modal for creating new projects -->
	<div id="newProject-modal" class="modal" >
		<div class="modal-content">
			<h4 class="center-align">Create New Project</h4>
			<form class="col s12">
				<div class="row">
					<div class="input-field col s11">
	          <input id="projName" type="text" class="validate">
	          <label for="projName">Project Name</label>
	        </div>
					<div class="col s1">
						<a id="projNameAcceptButton" class="condition-settings-button btn-floating waves-effect waves-light gray disabled" onclick="project_createNewProject()"><i class="material-icons">done</i></a>
					</div>
				</div>
			</form>
		</div>
	</div>

	<!-- Main Content -->
	<div id="mainContent" class="container-fluid hide">
		<div class="row" style="margin-bottom:0px"> <!-- Default is 20px, was causing page to scrollbar -->
			<div class = "col s12 l12">
				<ul class="tabs" id="tabheadings">
					<li class="tab col s4"><a class="active" href="#cyTab" onclick=wipeGame()>Graph</a></li>
					<!-- onclick function added to clear .playpage, otherwise the elements present can mess with .length operations e.g. $('.text-container').length -->
					<li class="tab col s4"><a href="#Character" onclick=wipeGame()>Character</a></li>
					<li class="tab col s4"><a href="#Play" onclick=prepareForGame()>Play</a></li>
				</ul>
				<div class="tab-content">
					<div id="cyTab" class="tab-pane fade in active">
						<div class="col s9 l9" id="cy"> <!-- Grid "workspace" container -->
							</div>
						<div class="col s3 l3" id="sidebar"> <!-- Sidebar -->
							<h5 id="UI_projName"></h5>
							<hr/>
							<button class='pagemode dropdown-button btn' href='#' onclick=changeState(this) data-activates='pagetemplates'>Page Node</button> <br/>
							<ul id='pagetemplates' class='dropdown-content'>
								<li><a onclick="chooseNodeTemplate('Default');">Default</a></li>
							</ul>
							<button class="controlmode btn" onclick=changeState(this)>Control Node</button><br/>
							<button class="connectionmode btn" onclick=changeState(this)>Edge</button><br/>
							<hr/>
							<a class="waves-effect waves-light btn" onclick="openAttributesOverlay()" >Attributes</a>
							<br/>
							<a class="waves-effect waves-light btn" onclick=openAudioOverlay()>Audio</a>
							<br/>
							<hr/>
							<button class="connectivity btn" onclick=checkValidGraph()>Test Graph</button> <br/>
							<button class='dropdown-button btn' href='#' data-activates='stylegraph'>Style Graph</button> <br/>
							<ul id='stylegraph' class='dropdown-content'>
								<li><a onclick="layout_driver('Tree');">Tree</a></li>
								<li><a onclick="layout_driver('Grid');">Grid</a></li>
								<li><a onclick="layout_driver('Circle');">Circle</a></li>
								<li><a onclick="layout_driver('Spread');">Spread</a></li>
							</ul>
							<hr/>
							<button class="savebutton btn" onclick=project_saveProject()>Save</button><br/>
							<hr/>
							<button class="deletebutton btn selectionbutton" style = "display:none;" onclick=changeState(this)>Delete</button><br/>
							<button class="btn modal-trigger editbutton" style = "display:none;" data-target="page-modal">Edit Page</button>
							<button class="btn modal-trigger editbutton" style = "display:none;" data-target="connection-modal">Edit Edge</button>
							<button class="btn modal-trigger editbutton" style = "display:none;" data-target="control-modal">Edit Control</button>
							<br/>
							<br/>
						</div>
					</div>
					<div id="Play" class="tab-pane fade">
						<div class="col s12" id="playwindow">
							<div class = "playpage">
							</div>
							<div id="loader"></div>
							<button class="progressbutton button" style='float:right;' onclick=progressStory(0)>Continue</button>
							<div id = "audioplayerlist">
								<!-- fills with audio elements for each sound to play -->
							</div>
							<div id = "videoplayer"></div>
						</div>
					</div>
					<div id="Character" class="tab-pane fade">
						<div class="container">
							<div class="row">
						</div>
						</div>
				</div>
			</div>
		</div>
	</div>
	</div>

	</body>
	<script src="js/lib/queue.js"></script>
	<script src="js/lib/jquery-2.2.2.min.js"></script>
	<script defer src="js/lib/cytoscape.min.js"></script>
	<script defer src="js/lib/cytoscape-panzoom.js"></script>
	<script defer src="js/lib/materialize.min.js"></script>
	<script defer src="js/lib/CollapsibleLists.compressed.js"></script>
	<script defer src="js/lib/stable-interact.min.js"></script>
	<script defer src="js/lib/jquery.contextMenu.min.js"></script>
	<script defer src="js/lib/jquery.ui.position.min.js"></script>
	<script defer src="js/lib/spectrum.js"></script>
	<script src="http://www.youtube.com/player_api"></script>

	<script defer src="js/dev.min.js"></script>
</html>
